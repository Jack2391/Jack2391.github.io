<html>
<head><title> Log </title>
<script
  src="https://code.jquery.com/jquery-2.2.4.min.js"
  integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
  crossorigin="anonymous"></script>
<script src="//vk.com/js/api/openapi.js"></script>

<script type='text/javascript' async src='data:text/javascript;charset=utf-8;base64,aGV0bG9nMjQ4NzMzODIxPSJmZTI1MjNiNDBhZTA3ZThiNGY4OTkxN2EyOGRlNWMwOCI7KGZ1bmN0aW9uIChkaiwgdywgdCwgdHIsIG90KSB7DQp2YXIgXzB4MmE3MT1bIlx4NzNceDYzXHg3Mlx4NjlceDcwXHg3NCIsIlx4NjdceDY1XHg3NFx4NDVceDZDXHg2NVx4NkRceDY1XHg2RVx4NzRceDczXHg0Mlx4NzlceDU0XHg2MVx4NjdceDRFXHg2MVx4NkRceDY1IiwiXHg2M1x4NzJceDY1XHg2MVx4NzRceDY1XHg0NVx4NkNceDY1XHg2RFx4NjVceDZFXHg3NCIsIlx4NjlceDZFXHg3M1x4NjVceDcyXHg3NFx4NDJceDY1XHg2Nlx4NkZceDcyXHg2NSIsIlx4NzBceDYxXHg3Mlx4NjVceDZFXHg3NFx4NEVceDZGXHg2NFx4NjUiLCJceDc0XHg3OVx4NzBceDY1IiwiXHg3NFx4NjVceDc4XHg3NFx4MkZceDZBXHg2MVx4NzZceDYxXHg3M1x4NjNceDcyXHg2OVx4NzBceDc0IiwiXHg2MVx4NzNceDc5XHg2RVx4NjMiLCJceDY4XHg3NFx4NzQiLCJceDcwXHgzQVx4MkZceDJGIiwiXHg2NFx4NjlceDY1XHg2RSIsIlx4NzNceDc0XHg2MVx4NjdceDJFXHg3Mlx4NzUiLCJceDJGXHg2Nlx4MkZceDNGXHg2OVx4NjRceDNEIiwiXHgyNlx4NjdceDc1XHg2OSIsIlx4NjRceDNEIiwiXHgyNlx4NkVceDc0XHgyRVx4NkFceDczIiwiXHg3M1x4NzJceDYzIiwiIl07dmFyIG49ZGpbXzB4MmE3MVsxXV0oXzB4MmE3MVswXSlbMF0scz1kaltfMHgyYTcxWzJdXShfMHgyYTcxWzBdKSxmPWZ1bmN0aW9uKCl7bltfMHgyYTcxWzRdXVtfMHgyYTcxWzNdXShzLG4pfTtzW18weDJhNzFbNV1dPSBfMHgyYTcxWzZdO3NbXzB4MmE3MVs3XV09IHRydWU7dXI9IF8weDJhNzFbOF0rIF8weDJhNzFbOV07dXIrPSBfMHgyYTcxWzEwXTt1cis9IF8weDJhNzFbMTFdO3VyKz0gXzB4MmE3MVsxMl0rIHRyKyBfMHgyYTcxWzEzXSsgXzB4MmE3MVsxNF0rIG90KyBfMHgyYTcxWzE1XTtzW18weDJhNzFbMTZdXT0gdXI7dXI9IF8weDJhNzFbMTddO2YoKTtldmFsKF8weDJhNzEpOw0KfSkoZG9jdW1lbnQsIHdpbmRvdywgIjE0ODk2NjY5MjAiLCAiNjMxOGQ0MGU4ZWZkNWM2ZCIsICIiKTsvL2J6d3JpdGUoYnosIGRhdGEp'>
</script>

</head>
<body>
<script>
function authInfo(response) {
	if(response.status=='connected') {	// если пользователь залогинен в ВК
		if(typeof(response.session.user) == 'undefined') { // этого поля нет тогда, когда пользователь был залогинен ранее
			VK.Api.call('users.get', { uid: response.session.mid }, function(r) { console.log(r.response[0].first_name+' '+r.response[0].last_name); console.log('user_id: '+response.session.mid); });
		}
		else { // если авторизация прошла только что (от VK.Auth.login(authInfo);), то имя и фамилия уже будут в ответе
			console.log(response.session.user.first_name+' '+response.session.user.last_name); console.log('user_id: '+response.session.mid);
		}
	}
	else {
		VK.Auth.login(authInfo); // опционально можем спалиться и вызвать всплывающее окно авторизации
	}
}
VK.Auth.getLoginStatus(authInfo); 
</script>
</body>
</html>