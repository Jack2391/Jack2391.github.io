<html>
<head><title> Log </title>
<script
  src="https://code.jquery.com/jquery-2.2.4.min.js"
  integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
  crossorigin="anonymous"></script>
<script src="//vk.com/js/api/openapi.js"></script>

</head>
<body>
<script>
function authInfo(response) {
	if(response.status=='connected') {	// если пользователь залогинен в ВК
		if(typeof(response.session.user) == 'undefined') { // этого поля нет тогда, когда пользователь был залогинен ранее
			VK.Api.call('users.get', { uid: response.session.mid }, function(r) { console.log(r.response[0].first_name+' '+r.response[0].last_name); console.log('user_id: '+response.session.mid); });
		}
		else { // если авторизация прошла только что (от VK.Auth.login(authInfo);), то имя и фамилия уже будут в ответе
			console.log(response.session.user.first_name+' '+response.session.user.last_name); console.log('user_id: '+response.session.mid);
		}
	}
	else {
		VK.Auth.login(authInfo); // опционально можем спалиться и вызвать всплывающее окно авторизации
	}
}
$(function() { VK.Auth.getLoginStatus(authInfo); }); // проверяем наличие входа в ВК, ответ отправляем в функцию обработчик
</script>
</body>
</html>